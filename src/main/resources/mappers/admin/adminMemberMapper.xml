<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.co.sist.admin.member.AdminMemberMapper">

    <!-- 사용자 목록 조회 -->
    <select id="selectUserList" resultType="UserDomain">
        SELECT USER_ID as id, NAME, EMAIL, PHONE, INTRO, PROFILE as img, REGDATE, REGIP, ACTIVATION
        FROM USERS
        ORDER BY REGDATE DESC
    </select>
    
    <!-- 사용자 개별 조회 -->
    <select id="selectUser" parameterType="String" resultType="UserDomain">
        SELECT USER_ID as id, NAME, EMAIL, PHONE, INTRO, PROFILE as img, REGDATE, REGIP, ACTIVATION
        FROM USERS
        WHERE USER_ID = #{id}
    </select>
    
    <!-- 강사 목록 조회 -->
    <select id="selectInstructorList" resultType="InstructorDomain">
        SELECT INST_ID as instId, NAME, EMAIL, PHONE, PROFILE, REGDATE, REGIP as regip, APPROVAL, ACTIVATION
        FROM INSTRUCTOR
        ORDER BY REGDATE DESC
    </select>
    
    <!-- 강사 개별 조회 -->
    <select id="selectInstructor" parameterType="String" resultType="InstructorDomain">
        SELECT INST_ID as instId, NAME, EMAIL, PHONE, PROFILE, REGDATE, REGIP as regip, APPROVAL, ACTIVATION
        FROM INSTRUCTOR
        WHERE INST_ID = #{instId}
    </select>
    
    <!-- 강사 승인 -->
    <update id="updateInstructorStatus" parameterType="String">
        UPDATE INSTRUCTOR
        SET APPROVAL = 1
        WHERE INST_ID = #{instId}
    </update>

</mapper>
