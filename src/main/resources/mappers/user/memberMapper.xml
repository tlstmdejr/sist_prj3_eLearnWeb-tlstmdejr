<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.co.sist.user.member.UserMapper">

<!-- 회원가입 -->
<insert id="insertUser" parameterType="UserDTO">
INSERT INTO users(
    USER_ID, PASSWORD, NAME, EMAIL, PHONE, BIRTH,
    ACTIVATION, PROFILE, REGDATE, REGIP
)
VALUES(#{id},#{password},#{name}, #{email, jdbcType=VARCHAR}, #{phone, jdbcType=VARCHAR}, #{birth, jdbcType=DATE},1,'default.png',SYSDATE, #{regip, jdbcType=VARCHAR})
</insert>
<!-- 아이디 중복 확인 -->
<select id="selectId" resultType="String" parameterType="String">
    SELECT user_id FROM users WHERE user_id = #{id}
</select>
<!-- 이름 중복 확인 -->
<select id="selectName" resultType="String" parameterType="String">
    SELECT name FROM users WHERE name = #{name}
</select>
<!-- 전화번호 중복 확인 -->
<select id="selectPhone" resultType="String" parameterType="String">
    SELECT phone FROM users WHERE phone = #{phone} AND ROWNUM = 1
</select>
</mapper>